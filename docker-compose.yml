services:
  aqevia-engine:
  # Image tag tracks the Backlit semantic version (vMAJOR.MINOR.REV) to keep deployments aligned with releases.
    image: aqevia:v0.0.1
    build:
      context: .
    container_name: aqevia-engine
    restart: unless-stopped
    ports:
      - "7878:7878"
    environment:
      AQEVIA_SQLITE_PATH: /data/storage.sqlite
      AQEVIA_OBSERVABILITY_ADDR: 0.0.0.0:7878
      PERSIST_FLUSH_INTERVAL_MS: 1000
      PERSIST_BATCH_CAPACITY: 10
    volumes:
      - aqevia_data:/data
volumes:
  aqevia_data:
